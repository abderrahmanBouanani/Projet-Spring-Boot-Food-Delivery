{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\admin\\\\OneDrive\\\\Bureau\\\\codes folder\\\\fd github\\\\food-deliver-app\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\admin\\\\OneDrive\\\\Bureau\\\\codes folder\\\\fd github\\\\food-deliver-app\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\admin\\\\OneDrive\\\\Bureau\\\\codes folder\\\\fd github\\\\food-deliver-app\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\admin\\\\OneDrive\\\\Bureau\\\\codes folder\\\\fd github\\\\food-deliver-app\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\admin\\\\OneDrive\\\\Bureau\\\\codes folder\\\\fd github\\\\food-deliver-app\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Link}from\"react-router-dom\";import{Typography,Card,CardHeader,CardContent,Collapse,IconButton,Avatar,Grid,Box,MobileStepper,Button}from\"@material-ui/core\";import Rating from'@material-ui/lab/Rating';import ExpandMoreIcon from'@material-ui/icons/ExpandMore';import KeyboardArrowLeft from'@material-ui/icons/KeyboardArrowLeft';import KeyboardArrowRight from'@material-ui/icons/KeyboardArrowRight';import\"./Card.css\";var axios=require('axios').default;var RestaurantCard=/*#__PURE__*/function(_React$Component){_inherits(RestaurantCard,_React$Component);var _super=_createSuper(RestaurantCard);function RestaurantCard(props){var _this;_classCallCheck(this,RestaurantCard);_this=_super.call(this,props);_this.state={comments:undefined,expanded:false,activeStep:0,maxSteps:0};_this.findComments=_this.findComments.bind(_assertThisInitialized(_this));_this.handleExpandClick=_this.handleExpandClick.bind(_assertThisInitialized(_this));_this.handleNext=_this.handleNext.bind(_assertThisInitialized(_this));_this.handleBack=_this.handleBack.bind(_assertThisInitialized(_this));return _this;}_createClass(RestaurantCard,[{key:\"componentDidMount\",value:function componentDidMount(){this.findComments();}},{key:\"findComments\",value:function findComments(){var _this2=this;axios.get(\"/api/restaurant/getComments/\"+this.props.restaurantId).then(function(response){_this2.setState({comments:response.data,maxSteps:response.data.length});}).catch(function(err){return console.log(err);});}},{key:\"handleExpandClick\",value:function handleExpandClick(){this.setState({expanded:!this.state.expanded});}},{key:\"handleNext\",value:function handleNext(){this.setState({activeStep:this.state.activeStep+1});}},{key:\"handleBack\",value:function handleBack(){this.setState({activeStep:this.state.activeStep-1});}},{key:\"render\",value:function render(){return this.props.userId&&this.props.restaurantId&&this.props.restaurantInfo&&this.state.comments?/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,{style:{backgroundColor:\"#FAFAD2\",height:\"40px\"},avatar:/*#__PURE__*/React.createElement(Avatar,{\"aria-label\":\"recipe\",style:{backgroundColor:\"#FF4500\"}},this.props.restaurantInfo.restaurantName.substring(0,1)),action:this.props.restaurantInfo.open?/*#__PURE__*/React.createElement(Typography,{color:\"primary\"},\"Open\"):/*#__PURE__*/React.createElement(Typography,{color:\"secondary\"},\"Closed\"),titleTypographyProps:{variant:'h5'},title:this.props.restaurantInfo.restaurantName}),/*#__PURE__*/React.createElement(Link,{to:\"/customer/restaurant/\"+this.props.restaurantId,className:\"link\"},/*#__PURE__*/React.createElement(\"img\",{className:\"photoCardImage\",src:this.props.restaurantInfo.imageUrl,alt:this.props.restaurantInfo.restaurantName})),/*#__PURE__*/React.createElement(CardContent,{style:{backgroundColor:\"#e6f7ff\"}},/*#__PURE__*/React.createElement(Typography,{variant:\"body1\",color:\"textSecondary\",component:\"p\"},/*#__PURE__*/React.createElement(\"i\",null,this.props.restaurantInfo.description))),/*#__PURE__*/React.createElement(IconButton,{onClick:this.handleExpandClick,\"aria-expanded\":this.state.expanded},/*#__PURE__*/React.createElement(Typography,null,/*#__PURE__*/React.createElement(\"b\",null,\"See Comments\")),/*#__PURE__*/React.createElement(ExpandMoreIcon,null)),/*#__PURE__*/React.createElement(Collapse,{in:this.state.expanded,timeout:\"auto\",unmountOnExit:true},/*#__PURE__*/React.createElement(CardContent,null,this.state.comments.length>0?/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\"},/*#__PURE__*/React.createElement(Box,{component:\"fieldset\",mb:3,borderColor:\"transparent\"},/*#__PURE__*/React.createElement(Rating,{name:\"read-only\",value:this.state.comments[this.state.activeStep].rating,readOnly:true}),/*#__PURE__*/React.createElement(Typography,{color:\"textSecondary\",variant:\"body2\"},/*#__PURE__*/React.createElement(\"i\",null,this.state.comments[this.state.activeStep].content))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(MobileStepper,{steps:this.state.maxSteps,position:\"static\",variant:\"text\",activeStep:this.state.activeStep,nextButton:/*#__PURE__*/React.createElement(Button,{size:\"small\",onClick:this.handleNext,disabled:this.state.activeStep===this.state.maxSteps-1},\"Next\",/*#__PURE__*/React.createElement(KeyboardArrowRight,null)),backButton:/*#__PURE__*/React.createElement(Button,{size:\"small\",onClick:this.handleBack,disabled:this.state.activeStep===0},/*#__PURE__*/React.createElement(KeyboardArrowLeft,null),\"Back\")}))):/*#__PURE__*/React.createElement(Typography,{variant:\"body1\",color:\"primary\"},/*#__PURE__*/React.createElement(\"i\",null,\"This restaurant doesn't have any comments\"))))):/*#__PURE__*/React.createElement(\"div\",null);}}]);return RestaurantCard;}(React.Component);export default RestaurantCard;","map":{"version":3,"sources":["C:/Users/admin/OneDrive/Bureau/codes folder/fd github/food-deliver-app/front-end/src/components/card/RestaurantCard.jsx"],"names":["React","Link","Typography","Card","CardHeader","CardContent","Collapse","IconButton","Avatar","Grid","Box","MobileStepper","Button","Rating","ExpandMoreIcon","KeyboardArrowLeft","KeyboardArrowRight","axios","require","default","RestaurantCard","props","state","comments","undefined","expanded","activeStep","maxSteps","findComments","bind","handleExpandClick","handleNext","handleBack","get","restaurantId","then","response","setState","data","length","catch","err","console","log","userId","restaurantInfo","backgroundColor","height","restaurantName","substring","open","variant","imageUrl","description","rating","content","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n    Typography,\r\n    Card,\r\n    CardHeader,\r\n    CardContent,\r\n    Collapse,\r\n    IconButton,\r\n    Avatar,\r\n    Grid,\r\n    Box,\r\n    MobileStepper,\r\n    Button\r\n        } from \"@material-ui/core\";\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\r\nimport \"./Card.css\";\r\nconst axios = require('axios').default;\r\n\r\nclass RestaurantCard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      comments : undefined,\r\n      expanded: false,\r\n      activeStep: 0,\r\n      maxSteps: 0\r\n    }\r\n    this.findComments = this.findComments.bind(this);\r\n    this.handleExpandClick = this.handleExpandClick.bind(this);\r\n    this.handleNext = this.handleNext.bind(this);\r\n    this.handleBack = this.handleBack.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.findComments();\r\n  }\r\n\r\n  findComments() {\r\n    axios.get(\"/api/restaurant/getComments/\" + this.props.restaurantId).then(\r\n      response => {\r\n        this.setState({comments : response.data, maxSteps: response.data.length});\r\n      }\r\n    ).catch(err => console.log(err));\r\n  }\r\n\r\n  handleExpandClick() {\r\n    this.setState({expanded : !this.state.expanded});\r\n  }\r\n\r\n  handleNext() {\r\n    this.setState({activeStep: this.state.activeStep + 1});\r\n  }\r\n\r\n  handleBack() {\r\n    this.setState({activeStep: this.state.activeStep - 1});\r\n  }\r\n\r\n  render() {\r\n    return this.props.userId && this.props.restaurantId && this.props.restaurantInfo && this.state.comments ? (\r\n      <Card>\r\n        <CardHeader\r\n          style={{backgroundColor: \"#FAFAD2\", height: \"40px\"}}\r\n          avatar={\r\n            <Avatar aria-label=\"recipe\" style={{backgroundColor: \"#FF4500\"}}>\r\n              {this.props.restaurantInfo.restaurantName.substring(0, 1)}\r\n            </Avatar>\r\n          }\r\n          action={\r\n            this.props.restaurantInfo.open ? (<Typography color=\"primary\">Open</Typography>) : <Typography color=\"secondary\">Closed</Typography>}\r\n            titleTypographyProps={{variant:'h5'}}\r\n            title={this.props.restaurantInfo.restaurantName}\r\n        />\r\n        <Link to={\"/customer/restaurant/\" + this.props.restaurantId} className=\"link\">\r\n          <img className=\"photoCardImage\" src= {this.props.restaurantInfo.imageUrl} alt={this.props.restaurantInfo.restaurantName} />\r\n        </Link>\r\n        <CardContent style={{backgroundColor: \"#e6f7ff\"}}>\r\n          <Typography variant=\"body1\" color=\"textSecondary\" component=\"p\">\r\n            <i>{this.props.restaurantInfo.description}</i>\r\n          </Typography>\r\n      </CardContent>\r\n      <IconButton\r\n        onClick={this.handleExpandClick}\r\n        aria-expanded={this.state.expanded}\r\n      >\r\n      <Typography><b>See Comments</b></Typography>\r\n        <ExpandMoreIcon />\r\n      </IconButton>\r\n      <Collapse in={this.state.expanded} timeout=\"auto\" unmountOnExit>\r\n        <CardContent>\r\n          {this.state.comments.length > 0 ? \r\n            <Grid container justify=\"center\">\r\n              <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\r\n                <Rating name=\"read-only\" value={this.state.comments[this.state.activeStep].rating} readOnly />\r\n                <Typography color=\"textSecondary\" variant=\"body2\"><i>{this.state.comments[this.state.activeStep].content}</i></Typography>\r\n              </Box>\r\n              <Grid item xs={12}>\r\n                <MobileStepper \r\n                  steps={this.state.maxSteps}\r\n                  position=\"static\"\r\n                  variant=\"text\"\r\n                  activeStep={this.state.activeStep}\r\n                  nextButton={\r\n                    <Button size=\"small\" onClick={this.handleNext} disabled={this.state.activeStep === this.state.maxSteps - 1}>\r\n                      Next\r\n                      <KeyboardArrowRight />\r\n                    </Button>\r\n                  }\r\n                  backButton={\r\n                    <Button size=\"small\" onClick={this.handleBack} disabled={this.state.activeStep === 0}>\r\n                      <KeyboardArrowLeft />\r\n                      Back\r\n                    </Button>\r\n                  }\r\n                /> \r\n              </Grid>\r\n            </Grid> \r\n            : <Typography variant=\"body1\" color=\"primary\"><i>This restaurant doesn't have any comments</i></Typography>}\r\n        </CardContent>\r\n      </Collapse>\r\n      </Card>\r\n    ) : <div />;\r\n  }\r\n}\r\n\r\nexport default RestaurantCard;"]},"metadata":{},"sourceType":"module"}