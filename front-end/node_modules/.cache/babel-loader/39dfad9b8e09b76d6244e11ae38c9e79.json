{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\admin\\\\OneDrive\\\\Bureau\\\\codes folder\\\\fd github\\\\food-deliver-app\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\admin\\\\OneDrive\\\\Bureau\\\\codes folder\\\\fd github\\\\food-deliver-app\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\admin\\\\OneDrive\\\\Bureau\\\\codes folder\\\\fd github\\\\food-deliver-app\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\admin\\\\OneDrive\\\\Bureau\\\\codes folder\\\\fd github\\\\food-deliver-app\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\admin\\\\OneDrive\\\\Bureau\\\\codes folder\\\\fd github\\\\food-deliver-app\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Grid,Typography,Button}from'@material-ui/core';import{Link}from\"react-router-dom\";import\"./Customer.css\";import DishCard from\"../../card/DishCard\";var axios=require('axios').default;var DisplayRestaurant=/*#__PURE__*/function(_React$Component){_inherits(DisplayRestaurant,_React$Component);var _super=_createSuper(DisplayRestaurant);function DisplayRestaurant(props){var _this;_classCallCheck(this,DisplayRestaurant);_this=_super.call(this,props);_this.state={restaurantId:_this.props.match.params.restaurantId,restaurant:undefined,subtotal:0,shopcart:[]};_this.getRestaurant=_this.getRestaurant.bind(_assertThisInitialized(_this));_this.addDish=_this.addDish.bind(_assertThisInitialized(_this));_this.addToCart=_this.addToCart.bind(_assertThisInitialized(_this));return _this;}_createClass(DisplayRestaurant,[{key:\"componentDidMount\",value:function componentDidMount(){this.getRestaurant();}},{key:\"getRestaurant\",value:function getRestaurant(){var _this2=this;axios.get(\"/api/restaurant/\"+this.state.restaurantId).then(function(response){_this2.setState({restaurant:response.data});}).catch(function(err){return console.log(err);});}},{key:\"addDish\",value:function addDish(action,dish){if(action===\"add\"){var tempArray=this.state.shopcart;tempArray.push(dish);this.setState({subtotal:this.state.subtotal+dish.price,shopcart:tempArray});}else if(action===\"minus\"){var tempArray2=this.state.shopcart.filter(function(preDish){return preDish.dishName!==dish.dishName;});this.setState({subtotal:this.state.subtotal-dish.price,shopcart:tempArray2});}}},{key:\"addToCart\",value:function addToCart(){axios.post(\"/api/order/addToCart\",{customerId:this.props.currentUser.id,restaurantId:this.state.restaurantId,shopcart:this.state.shopcart}).then(function(response){return console.log(response.data);}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this3=this;return this.props.currentUser&&this.state.restaurant?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{variant:\"h4\"},/*#__PURE__*/React.createElement(\"img\",{className:\"littleImage\",src:this.state.restaurant.information.imageUrl,alt:this.state.restaurant.information.restaurantName}),/*#__PURE__*/React.createElement(\"i\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Welcome to \",this.state.restaurant.information.restaurantName))),!this.state.restaurant.information.open?/*#__PURE__*/React.createElement(Typography,{variant:\"body1\",color:\"error\"},\"Closed, will go back soon...\"):null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Typography,{variant:\"body1\",color:\"textSecondary\",component:\"p\"},/*#__PURE__*/React.createElement(\"i\",null,this.state.restaurant.information.description)),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3,justify:\"space-evenly\"},this.state.restaurant.menu.map(function(dish,index){return/*#__PURE__*/React.createElement(Grid,{item:true,xs:3,key:index},/*#__PURE__*/React.createElement(DishCard,{dish:dish,addDish:_this3.addDish,currentUser:_this3.props.currentUser}));})),/*#__PURE__*/React.createElement(\"div\",{className:\"checkoutBox\"},/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"flex-end\"},/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(Typography,{variant:\"h5\"},/*#__PURE__*/React.createElement(\"i\",null,\"Subtotal : $ \",this.state.subtotal)))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"flex-end\"},/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(Link,{to:\"/customer/home\",style:{textDecoration:\"none\"}},/*#__PURE__*/React.createElement(Button,{variant:\"outlined\",color:\"primary\",size:\"large\",disabled:!this.state.restaurant.information.open||this.state.subtotal===0,onClick:this.addToCart},\"Add to Cart\")))))):/*#__PURE__*/React.createElement(\"div\",null,\"This restaurant is not available\");}}]);return DisplayRestaurant;}(React.Component);export default DisplayRestaurant;","map":{"version":3,"sources":["C:/Users/admin/OneDrive/Bureau/codes folder/fd github/food-deliver-app/front-end/src/components/customerView/mainpage/DisplayRestaurant.jsx"],"names":["React","Grid","Typography","Button","Link","DishCard","axios","require","default","DisplayRestaurant","props","state","restaurantId","match","params","restaurant","undefined","subtotal","shopcart","getRestaurant","bind","addDish","addToCart","get","then","response","setState","data","catch","err","console","log","action","dish","tempArray","push","price","tempArray2","filter","preDish","dishName","post","customerId","currentUser","id","information","imageUrl","restaurantName","open","description","menu","map","index","textDecoration","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {\r\n  Grid, Typography, Button\r\n} from '@material-ui/core';\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Customer.css\";\r\nimport DishCard from \"../../card/DishCard\";\r\nconst axios = require('axios').default;\r\n\r\nclass DisplayRestaurant extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      restaurantId: this.props.match.params.restaurantId,\r\n      restaurant: undefined,\r\n      subtotal: 0,\r\n      shopcart: []\r\n    }\r\n    this.getRestaurant = this.getRestaurant.bind(this);\r\n    this.addDish = this.addDish.bind(this);\r\n    this.addToCart = this.addToCart.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getRestaurant();\r\n  }\r\n\r\n  getRestaurant() {\r\n    axios.get(\"/api/restaurant/\" + this.state.restaurantId).then(\r\n      response => {\r\n        this.setState({restaurant: response.data});\r\n      }\r\n    ).catch(err => console.log(err));\r\n  }\r\n\r\n  addDish(action, dish) {\r\n    if (action === \"add\") {\r\n      let tempArray = this.state.shopcart;\r\n      tempArray.push(dish);\r\n      this.setState({subtotal: this.state.subtotal + dish.price, shopcart: tempArray});\r\n    } else if (action === \"minus\") {\r\n      let tempArray2 = this.state.shopcart.filter(preDish => preDish.dishName !== dish.dishName);\r\n      this.setState({subtotal: this.state.subtotal - dish.price, shopcart: tempArray2});\r\n    }\r\n  }\r\n\r\n  addToCart() {\r\n    axios.post(\"/api/order/addToCart\", {\r\n      customerId: this.props.currentUser.id,\r\n      restaurantId: this.state.restaurantId,\r\n      shopcart: this.state.shopcart\r\n    }).then(response => console.log(response.data)).catch(err => console.log(err));\r\n  }\r\n\r\n  render() {\r\n    return this.props.currentUser && this.state.restaurant ? (\r\n      <div>\r\n        <Typography variant=\"h4\">\r\n        <img className=\"littleImage\" src= {this.state.restaurant.information.imageUrl} alt={this.state.restaurant.information.restaurantName} />\r\n        <i><b>Welcome to {this.state.restaurant.information.restaurantName}</b></i>\r\n        </Typography>\r\n        {!this.state.restaurant.information.open ? (\r\n          <Typography variant=\"body1\" color=\"error\">Closed, will go back soon...</Typography>\r\n        ) : null}\r\n        <br />\r\n        <Typography variant=\"body1\" color=\"textSecondary\" component=\"p\">\r\n          <i>{this.state.restaurant.information.description}</i>\r\n        </Typography>\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <Grid container spacing={3} justify=\"space-evenly\">\r\n          {this.state.restaurant.menu.map((dish, index) => (\r\n            <Grid item xs={3} key={index}>\r\n              <DishCard dish={dish} addDish={this.addDish} currentUser={this.props.currentUser} />\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n        <div className=\"checkoutBox\">\r\n          <Grid container justify=\"flex-end\">\r\n              <Grid item>\r\n                <Typography variant=\"h5\"><i>Subtotal : $ {this.state.subtotal}</i></Typography>\r\n              </Grid>\r\n          </Grid>\r\n          <br />\r\n          <Grid container justify=\"flex-end\">\r\n              <Grid item>\r\n                <Link to={\"/customer/home\"} style={{textDecoration: \"none\"}}>\r\n                  <Button variant=\"outlined\" color=\"primary\" size=\"large\" disabled={!this.state.restaurant.information.open || this.state.subtotal === 0} onClick={this.addToCart}>\r\n                    Add to Cart\r\n                  </Button>\r\n                </Link>\r\n              </Grid>\r\n          </Grid>\r\n        </div>\r\n      </div>\r\n    ) : <div>This restaurant is not available</div>\r\n  }\r\n}\r\n\r\nexport default DisplayRestaurant;"]},"metadata":{},"sourceType":"module"}