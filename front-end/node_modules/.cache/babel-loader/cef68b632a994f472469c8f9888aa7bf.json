{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\admin\\\\OneDrive\\\\Bureau\\\\codes folder\\\\fd github\\\\food-deliver-app\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\admin\\\\OneDrive\\\\Bureau\\\\codes folder\\\\fd github\\\\food-deliver-app\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\admin\\\\OneDrive\\\\Bureau\\\\codes folder\\\\fd github\\\\food-deliver-app\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\admin\\\\OneDrive\\\\Bureau\\\\codes folder\\\\fd github\\\\food-deliver-app\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\admin\\\\OneDrive\\\\Bureau\\\\codes folder\\\\fd github\\\\food-deliver-app\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import Paper from'@material-ui/core/Paper';import InputBase from'@material-ui/core/InputBase';import IconButton from'@material-ui/core/IconButton';import SearchIcon from'@material-ui/icons/Search';import{Grid,Typography}from'@material-ui/core';import RestaurantCard from\"../../card/RestaurantCard\";import\"./Customer.css\";var axios=require('axios').default;var CustomerHome=/*#__PURE__*/function(_React$Component){_inherits(CustomerHome,_React$Component);var _super=_createSuper(CustomerHome);function CustomerHome(props){var _this;_classCallCheck(this,CustomerHome);_this=_super.call(this,props);_this.state={searchText:\"\",restaurants:undefined};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.findRestaurants=_this.findRestaurants.bind(_assertThisInitialized(_this));_this.handleSearch=_this.handleSearch.bind(_assertThisInitialized(_this));return _this;}_createClass(CustomerHome,[{key:\"componentDidMount\",value:function componentDidMount(){this.findRestaurants(this.searchText);}},{key:\"findRestaurants\",value:function findRestaurants(query){var _this2=this;if(query!==undefined&&query!==\"\"){axios.get(\"/api/restaurant/search/\"+query).then(function(response){_this2.setState({restaurants:response.data});}).catch(function(err){return console.log(err);});}else{axios.get(\"/api/restaurant/all\").then(function(response){var temp=response.data.filter(function(restaurant){return restaurant.information!=null&&restaurant.menu!=null;});_this2.setState({searchText:\"\",restaurants:temp});}).catch(function(err){return console.log(err);});}}},{key:\"handleChange\",value:function handleChange(content){this.setState(content);}},{key:\"handleSearch\",value:function handleSearch(event){event.preventDefault();this.findRestaurants(this.state.searchText);}},{key:\"render\",value:function render(){var _this3=this;return this.props.currentUser?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\"},/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(Paper,{component:\"form\",onSubmit:this.handleSearch,style:{width:400,padding:'2px 4px',display:\"spac\"}},/*#__PURE__*/React.createElement(InputBase,{style:{marginLeft:'10px',width:325},placeholder:\"Search Restaurant or Food\",value:this.state.searchText,onChange:function onChange(event){return _this3.handleChange({searchText:event.target.value});}}),/*#__PURE__*/React.createElement(IconButton,{type:\"submit\",\"aria-label\":\"search\"},/*#__PURE__*/React.createElement(SearchIcon,null)))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(\"div\",{className:\"cardbody\"},/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"space-evenly\",spacing:2},this.state.restaurants&&this.state.restaurants.length!==0?this.state.restaurants.map(function(restaurant){return/*#__PURE__*/React.createElement(Grid,{item:true,xs:5,key:restaurant.id},/*#__PURE__*/React.createElement(RestaurantCard,{userId:_this3.props.currentUser.id,restaurantId:restaurant.id,restaurantInfo:restaurant.information}));}):/*#__PURE__*/React.createElement(Typography,{variant:\"h5\"},/*#__PURE__*/React.createElement(\"i\",null,\"No result matches your search, please try again...\"))))))):/*#__PURE__*/React.createElement(\"div\",null);}}]);return CustomerHome;}(React.Component);export default CustomerHome;","map":{"version":3,"sources":["C:/Users/admin/OneDrive/Bureau/codes folder/fd github/food-deliver-app/front-end/src/components/customerView/mainpage/CustomerHome.jsx"],"names":["React","Paper","InputBase","IconButton","SearchIcon","Grid","Typography","RestaurantCard","axios","require","default","CustomerHome","props","state","searchText","restaurants","undefined","handleChange","bind","findRestaurants","handleSearch","query","get","then","response","setState","data","catch","err","console","log","temp","filter","restaurant","information","menu","content","event","preventDefault","currentUser","width","padding","display","marginLeft","target","value","length","map","id","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport {\r\n  Grid, Typography\r\n} from '@material-ui/core';\r\nimport RestaurantCard from \"../../card/RestaurantCard\";\r\nimport \"./Customer.css\";\r\nconst axios = require('axios').default;\r\n\r\nclass CustomerHome extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      searchText: \"\",\r\n      restaurants: undefined\r\n    }\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.findRestaurants = this.findRestaurants.bind(this);\r\n    this.handleSearch = this.handleSearch.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.findRestaurants(this.searchText);\r\n  }\r\n\r\n  findRestaurants(query) {\r\n    if (query !== undefined && query !== \"\") {\r\n      axios.get(\"/api/restaurant/search/\" + query).then(\r\n        response => {\r\n          this.setState({restaurants: response.data})\r\n        }\r\n      ).catch(err => console.log(err));\r\n    } else {\r\n      axios.get(\"/api/restaurant/all\").then(\r\n        response => {\r\n          let temp = response.data.filter(restaurant => restaurant.information != null && restaurant.menu != null);\r\n          this.setState({searchText: \"\", restaurants: temp});\r\n        }\r\n      ).catch(err => console.log(err));\r\n    }\r\n  }\r\n\r\n  handleChange(content) {\r\n    this.setState(content);\r\n  }\r\n\r\n  handleSearch(event) {\r\n    event.preventDefault();\r\n    this.findRestaurants(this.state.searchText);\r\n  }\r\n\r\n  render() {\r\n    return this.props.currentUser ? (\r\n      <div>\r\n        <Grid container justify=\"center\">\r\n          <Grid item>\r\n            <Paper component=\"form\" onSubmit={this.handleSearch} style={{width: 400, padding: '2px 4px', display: \"spac\"}} >\r\n              <InputBase\r\n                style={{marginLeft: '10px', width: 325}}\r\n                placeholder=\"Search Restaurant or Food\"\r\n                value={this.state.searchText}\r\n                onChange={event => this.handleChange({searchText: event.target.value})}\r\n              />\r\n              <IconButton type=\"submit\" aria-label=\"search\">\r\n                <SearchIcon />\r\n              </IconButton>\r\n            </Paper>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <div className=\"cardbody\">\r\n              <Grid container justify=\"space-evenly\" spacing={2}>\r\n                {this.state.restaurants && this.state.restaurants.length !== 0 ? this.state.restaurants.map(restaurant => (\r\n                  <Grid item xs={5} key={restaurant.id}>\r\n                    <RestaurantCard userId={this.props.currentUser.id} restaurantId={restaurant.id} restaurantInfo={restaurant.information} />\r\n                  </Grid>\r\n                )) : <Typography variant=\"h5\"><i>No result matches your search, please try again...</i></Typography>}\r\n              </Grid>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    ) : <div />;\r\n  }\r\n}\r\n\r\nexport default CustomerHome;"]},"metadata":{},"sourceType":"module"}